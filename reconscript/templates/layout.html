<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ReconScript Control Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui, sans-serif; margin: 0; background: #101820; color: #f0f4f8; }
      header { padding: 1rem 2rem; background: #0b111a; display: flex; justify-content: space-between; align-items: center; }
      main { padding: 2rem; max-width: 960px; margin: 0 auto; }
      a { color: #5cc8ff; }
      .card { background: #151f2b; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.4); }
      .flash { padding: 0.75rem 1rem; border-radius: 6px; margin-bottom: 1rem; }
      .flash.error { background: #ff4d4d; color: #101820; }
      .flash.info { background: #275d9f; }
      label { display: block; margin-top: 1rem; font-weight: 600; }
      input, select, button { margin-top: 0.5rem; padding: 0.6rem; border-radius: 4px; border: 1px solid #223040; width: 100%; box-sizing: border-box; background: #0b121b; color: #f0f4f8; }
      button { cursor: pointer; background: #1e88e5; border: none; font-weight: 600; }
      button:disabled { opacity: 0.5; cursor: not-allowed; }
      .warning { background: #ffc107; color: #101820; padding: 0.5rem 1rem; border-radius: 4px; margin-bottom: 1rem; font-weight: 600; }
      nav a { margin-left: 1rem; }
      .skip-link {
        position: absolute;
        left: -999px;
        top: 1rem;
        background: #5cc8ff;
        color: #101820;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        font-weight: 600;
      }
      .skip-link:focus {
        left: 1rem;
        z-index: 1000;
      }
      a:focus, button:focus, input:focus, select:focus {
        outline: 2px solid #f8e45c;
        outline-offset: 2px;
      }
    </style>
  </head>
  <body>
    <a class="skip-link" href="#main-content">Skip to main content</a>
    <header>
      <div>
        <strong>ReconScript</strong>
      </div>
      <nav aria-label="Primary">
        <a href="{{ url_for('index') }}">Dashboard</a>
      </nav>
    </header>
    <main id="main-content" tabindex="-1">
      {% if public_ui %}
        <div class="warning">Public UI mode is enabled. Ensure authentication and TLS are enforced.</div>
      {% endif %}
      {% with flashes = get_flashed_messages(with_categories=true) %}
        {% if flashes %}
          <div role="status" aria-live="polite">
            {% for category, message in flashes %}
              <div class="flash {{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
